# ğŸ›¡ï¸ MuleShield â€” Cross-Channel Money Mule Detection

> Detect the network. Stop the crime.

MuleShield is an AI-powered platform that detects money mule accounts across multiple banking channels (UPI, NEFT, IMPS, ATM, RTGS) using a 4-layer fusion engine combining rule-based detection, machine learning, graph analysis, and mule type classification.

---

## ğŸš¨ The Problem

Money mules are bank accounts used to receive and forward illicit funds â€” laundering money across channels to avoid detection. Traditional rule-based systems miss them because:
- Each transaction looks legitimate in isolation
- Mules hop between UPI, NEFT, ATM â€” siloed systems never connect the dots
- The crime is in the **network**, not individual accounts

**$3.1 trillion** is laundered globally every year. Over 40% flows through mule accounts. Less than 5% is detected today.

---

## ğŸ’¡ Our Solution

A **4-layer fusion detection engine** that looks at accounts as a network, not in isolation:

| Layer | Method | Purpose |
|-------|--------|---------|
| L1 | Rule Engine | Instant flagging â€” pass-through ratio, velocity, night-hour activity |
| L2 | XGBoost ML | Behavioural scoring on 10 engineered features with SHAP explainability |
| L3 | Graph + GNN | Betweenness centrality, fan-in/fan-out, GCN node embeddings |
| L4 | Type Classifier | Classify mule as Complicit / Recruited / Exploited â†’ tailored response |

---

## ğŸ“Š Dataset

The synthetic dataset is generated by `data/generate_data.py` and simulates realistic cross-channel banking behaviour.

| Stat | Value |
|------|-------|
| Total transactions | 126,138 |
| Total accounts | 330 (300 normal + 30 mules) |
| Mule subtypes | 3 (Complicit, Recruited, Exploited) |
| Payment channels | 7 (UPI, NEFT, IMPS, ATM, RTGS, Mobile Banking, Net Banking) |
| Time window | 180 days (Janâ€“Jun 2024) |
| Mule transaction ratio | 2.8% (realistic class imbalance) |

### Mule Subtype Breakdown

| Type | Transactions | Pattern |
|------|-------------|---------|
| Complicit | 1,794 | New account, rapid high-volume pass-through, night-hour bursts |
| Recruited | 1,518 | Existing account with sudden behavioural shift after handler contact |
| Exploited | 216 | Account takeover â€” consistent history then large rapid debits |

To regenerate the dataset:
```bash
cd data
python generate_data.py
```

---

## ğŸ” Detection Features (L2 â€” ML Layer)

Each account is profiled with the following features:

- `pass_through_ratio` â€” outflow / inflow (mules approach 1.0)
- `avg_time_to_forward_hrs` â€” how quickly money exits after arriving
- `channel_entropy` â€” diversity of channels used (mules switch channels)
- `unique_sender_count` â€” number of distinct inbound counterparties
- `unique_receiver_count` â€” number of distinct outbound counterparties
- `balance_volatility` â€” std deviation of running balance
- `round_amount_ratio` â€” fraction of round-number transactions
- `nighttime_txn_pct` â€” % of transactions between 11pmâ€“4am
- `velocity_7d` â€” transaction count in any 7-day rolling window
- `account_age_days` â€” days since first transaction

---

## ğŸ•¸ï¸ Graph Detection (L3 â€” GNN Layer)

Accounts are modelled as nodes, transactions as weighted directed edges.

Key graph metrics computed per node:
- **Betweenness centrality** â€” mules sit as bridges between otherwise unconnected clusters
- **Fan-in / fan-out ratio** â€” many senders â†’ one account â†’ few receivers
- **Contagion score** â€” risk propagated from confirmed mules within 2 hops
- **GCN node embeddings** â€” learned representations for classification

---

## ğŸ·ï¸ Mule Type Classification (L4)

| Type | Key Signals | Response |
|------|------------|---------|
| **Complicit** | New account, high volume, criminal network links | Freeze + SAR filing + law enforcement |
| **Recruited** | Behavioural shift, handler relationship, escalation | Soft block + KYC review + customer contact |
| **Exploited** | Account takeover, new device/IP, victim profile intact | Freeze + notify customer + forensics |

---

## ğŸ› ï¸ Tech Stack

| Component | Technology |
|-----------|-----------|
| Data Generation | Python, NumPy, Pandas |
| Feature Engineering | Pandas |
| ML Model | XGBoost, Scikit-learn, SHAP |
| Graph Analysis | NetworkX |
| GNN | PyTorch Geometric |
| Dashboard | Streamlit, Plotly, PyVis |
| API | FastAPI |
| Storage | SQLite |

---


